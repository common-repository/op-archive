=== OP Archive ===
Contributors: dtest
Donate link:
Tags: backup
Requires at least: 2.8
Tested up to: 3.0.5
Stable tag: 0.1.0

Rest easy knowing you have an up-to-date backup of your wordpress blog files and database with the OP-Archive plugin!

== Description ==

It's a one-click process to generate a backup of your wordpress files and wordpress database. Go to the tools menu to find the OP-Archive admin panel and click `BACKUP NOW` button.

Now you have access to a safe backup of your wordpress site. The OP Archive panel gives easy access to your archives, so you can download them to your local machine before doing any major updates to wordpress core or other plugins/themes.

Note: OP-Archive relies on the `exec` command for creating the compressed file. If you cannot use that, or do not have access
to the 'tar' command on your server, compression won't work at this time. SQL generation will still work.

== Installation ==

1. Upload `op_archive` compressed file to the `/wp-content/plugins` directory
2. Unpack the `op_archive` file.
3. Activate the plugin through the 'Plugins' menu in WordPress
4. OP Archive panel located under tools menu

== Frequently Asked Questions ==

= Can I use this plugin? =

Short answer: Yes.

Long answer: For SQL backup of the database, any users should be able to use this plugin. For sitefiles, the plugin calls 'exec' on the 'tar' command. This means that if you're on linux, have php configured to allow 'exec' commands, and have a working 'tar' command in the /usr/bin directory, you're in good shape. If none of those apply to you, then site-file archives will not work for you.

Also, the code is mostly geared for PHP 5.0+.

Plans are in place to bring compatibility to other platforms (not rely on 'exec'). Also, 4.3+ compatibility is a goal. The author just isn't 100% sure what all needs to change since the functionality revolves around php classes.

= Where are my archives saved? =

OP Archive creates a folder 'op-archives' in your `wp-content/uploads` folder. Both the compressed file and the database sql file will be located in this directory.

= What tables are included in the .sql file? =

For now, OP-Archive only dumps tables that begin with the wordpress prefix, as defined by `$wpdb->prefix`. There are plans to allow the dump of any tables
inside your wordpress database.

= How is the .sql file generated? =

Currently, the file is generated by looping through the rows in each `$wpdb->prefix` table. The file will create appropriate `DROP TABLE` and `CREATE TABLE`
blocks.

There is a plan to be able to use the 'mysqldump' command if available on your system.

= What format is the compressed file? =

OP Archive currently only creates a '.tar.gz' file. There are plans to be able to choose your flavor of compressed file.

== Screenshots ==

1. Screenshot of the OP-Archive tool panel listing existing archives.
2. Screenshot of the generation process.

== Changelog ==

= 0.1.0 =
* added new member variables '_archiveDirectory', '_archiveUrl', and mutator 'setArchiveDirectory' to cache the location of the archive, instead of generating it each time accessor is called
* Added listing of existing archives
* Added basic styles to listing and generation of archives

= 0.0.2 =
* BUG FIX: sql generated is now properly escaped

= 0.0.1 =
* Created plugin structure.
* Created basic admin panel.
* Implemented basic local archive directory under '/wp-content/plugins/op_archive/archives/' directory
* Implemented tarball compression of the current wordpress directory and move of tarball to archive directory.

== Upgrade Notice ==

= 0.0.2 =

Version 0.0.2 fixes a bug in how the sql file was generated. It now properly escapes quotations and newlines.
